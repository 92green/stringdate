// @flow
import isSame from '../isSame';

describe('isSame', () => {

    test.each([
        ['year', '2020-01-10T22:41:20.000+1100', '2020-12-31T23:59:59.999+1100', true],
        ['year', '2020-01-10T22:41:20.000+1100', '2019-12-31T23:59:59.999+1100', false],
        ['year', '2020-01-10T22:41:20.000Z', '2020-12-31T23:59:59.999Z', true],
        ['year', '2020-01-10T22:41:20.000Z', '2019-12-31T23:59:59.999Z', false],
        ['year', '2020-01-10', '2020-12-31', true],
        ['year', '2020-01-10', '2019-12-31', false],

        ['month', '2020-02-10T22:41:20.000+1100', '2020-02-29T23:59:59.999+1100', true],
        ['month', '2020-02-10T22:41:20.000+1100', '2020-01-29T23:59:59.999+1100', false],
        ['month', '2020-09-10T22:41:20.000Z', '2020-09-30T23:59:59.999Z', true],
        ['month', '2020-01-01T22:41:20.000Z', '2020-02-31T23:59:59.999Z', false],
        ['month', '2020-02-10', '2020-02-29', true],
        ['month', '2020-02-10', '2020-03-29', false],

        ['day', '2020-01-10T22:41:20.000+1100', '2020-01-10T23:59:59.999+1100', true],
        ['day', '2020-01-10T22:41:20.000+1100', '2020-01-11T23:59:59.999+1100', false],
        ['day', '2020-01-10T22:41:20.000Z', '2020-01-10T23:59:59.999Z', true],
        ['day', '2020-01-10T22:41:20.000Z', '2020-01-11T23:59:59.999Z', false],
        ['day', '2020-01-10', '2020-01-10', true],
        ['day', '2020-01-10', '2020-01-11', false],

        ['hour', '2020-01-10T22:41:20.000+1100', '2020-01-10T22:59:59.999+1100', true],
        ['hour', '2020-01-10T22:41:20.000+1100', '2020-01-10T21:59:59.999+1100', false],
        ['hour', '2020-01-10T22:41:20.000Z', '2020-01-10T22:59:59.999Z', true],
        ['hour', '2020-01-10T22:41:20.000Z', '2020-01-10T12:59:59.999Z', false],
        ['hour', '2020-01-10', '2020-01-10', true],

        ['minute', '2020-01-10T22:41:20.000+1100', '2020-01-10T22:41:59.999+1100', true],
        ['minute', '2020-01-10T22:41:20.000+1100', '2020-01-10T22:42:59.999+1100', false],
        ['minute', '2020-01-10T22:41:20.000Z', '2020-01-10T22:41:59.999Z', true],
        ['minute', '2020-01-10T22:41:20.000Z', '2020-01-10T22:42:59.999Z', false],
        ['minute', '2020-01-10', '2020-01-10', true],

        ['second', '2020-01-10T22:41:20.111+1000', '2020-01-10T22:41:20.999+1000', true],
        ['second', '2020-01-10T22:41:20.111+1000', '2020-01-10T22:41:19.999+1000', false],
        ['second', '2020-01-10T22:41:20.111Z', '2020-01-10T22:41:20.999Z', true],
        ['second', '2020-01-10T22:41:20.111Z', '2020-01-10T22:41:19.999Z', false],
        ['second', '2020-01-10', '2020-01-10', true],

        [null, '2020-01-10T22:41:20.111+1000', '2020-01-10T22:41:20.111+1000', true],
        [null, '2020-01-10T22:41:20.111+1000', '2020-01-10T22:41:20.999+1000', false],
        [null, '2020-01-10T22:41:20.111Z', '2020-01-10T22:41:20.111Z', true],
        [null, '2020-01-10T22:41:20.111Z', '2020-01-10T22:41:20.999Z', false],
        [null, '2020-01-10', '2020-01-10', true],
        [null, '2020-01-10', '2020-01-01', false]
    ])('(%s) %p isSame %p is %p', (type, compare, input, expected) => {
        expect(isSame(compare, type)(input)).toBe(expected);
    });

});
