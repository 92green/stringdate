// @flow
import add from '../add';

describe('add', () => {

    test.each([
        // year
        ['P1Y', '2020-01-01T22:41:20.000+1100', '2021-01-01T22:41:20.000+1100'],
        ['P2Y', '2020-01-01T22:41:20.000Z', '2022-01-01T22:41:20.000Z'],
        ['P3Y', '2020-01-01', '2023-01-01'],

        // month
        ['P1M', '2020-01-01T22:41:20.000+1100', '2020-02-01T22:41:20.000+1100'],
        ['P2M', '2020-01-01T22:41:20.000Z', '2020-03-01T22:41:20.000Z'],
        ['P3M', '2020-01-01', '2020-04-01'],

        // day
        ['P1D', '2020-01-01T22:41:20.000+1100', '2020-01-02T22:41:20.000+1100'],
        ['P2D', '2020-01-01T22:41:20.000Z', '2020-01-03T22:41:20.000Z'],
        ['P3D', '2020-01-01', '2020-01-04'],

        // hour
        ['P1H', '2020-01-01T22:41:20.000+1100', '2020-01-01T22:41:20.000+1100'],
        ['P2H', '2020-01-01T22:41:20.000Z', '2020-01-01T22:41:20.000Z'],
        ['P3H', '2020-01-01', '2020-01-01'],

        // minute
        ['PT1M', '2020-01-01T22:41:20.000+1100', '2020-01-01T22:42:20.000+1100'],
        ['PT2M', '2020-01-01T22:41:20.000Z', '2020-01-01T22:43:20.000Z'],
        ['PT3M', '2020-01-01', '2020-01-01'],

        // second
        ['PT1S', '2020-01-01T22:41:20.000+1100', '2020-01-01T22:41:21.000+1100'],
        ['PT2S', '2020-01-01T22:41:20.000Z', '2020-01-01T22:41:22.000Z'],
        ['PT3S', '2020-01-01', '2020-01-01'],

        // week
        ['P1W', '2020-01-01T22:41:20.000+1100', '2020-01-08T22:41:20.000+1100'],
        ['P2W', '2020-01-01T22:41:20.000Z', '2020-01-15T22:41:20.000Z'],
        ['P3W', '2020-01-01', '2020-01-22'],

        // combo
        ['P1Y1M1D', '2020-01-01T22:41:20.000+1100', '2021-02-02T22:41:20.000+1100'],
        ['P1Y1M1D', '2020-01-01T22:41:20.000Z', '2021-02-02T22:41:20.000Z'],
        ['P1Y1M1D', '2020-01-01', '2021-02-02'],

        // durations
        ['P1Y', 'P2Y', 'P3Y'],
        ['P1M', 'P2M', 'P3M'],
        ['P1D', 'P2D', 'P3D'],
        ['PT1H', 'PT2H', 'PT3H'],
        ['PT1M', 'PT2M', 'PT3M'],
        ['PT1S', 'PT2S', 'PT3S'],
        ['P1Y2M3DT1H1M2S', 'P1Y2M3DT1H1M2S', 'P2Y4M6DT2H2M4S']
    ])('add(%p)(%p) === %p', (params, input, expected) => {
        expect(add(params)(input)).toBe(expected);
    });

});
